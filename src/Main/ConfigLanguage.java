/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package Main;

import java.awt.Frame;
import java.io.File;
import java.util.ArrayList;
import javax.swing.JFrame;
import utilititiesfunction.getLanguage;

/**
 *
 * @author s386
 */
public class ConfigLanguage extends javax.swing.JDialog {

    /**
     * Creates new form ConfigLanguage
     */
    getLanguage lang;
    public static String frmName = "Configlanguage";
    Frame Parent;
    String ParentName;

    public ConfigLanguage(java.awt.Frame parent, boolean modal, String parentName) {
        super(parent, modal);
        initComponents();
        lang = new getLanguage();

        lang.setText(frmName, this, lang.getChklang());
        
        Parent = parent;
        ParentName = parentName;
        select();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPanel1 = new javax.swing.JPanel();
        cboLang = new javax.swing.JComboBox();
        db_btnconfirm = new javax.swing.JButton();
        jMenuBar1 = new javax.swing.JMenuBar();
        menuFunc = new javax.swing.JMenu();
        menuDefault = new javax.swing.JMenuItem();
        menuThai = new javax.swing.JMenuItem();
        menuEng = new javax.swing.JMenuItem();
        menuLocal = new javax.swing.JMenuItem();
        jSeparator1 = new javax.swing.JPopupMenu.Separator();
        menuExit = new javax.swing.JMenuItem();

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        setTitle("ตั้งค่าภาษา");

        cboLang.setFont(new java.awt.Font("Norasi", 0, 14));
        cboLang.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Default", "Thai", "English", "Local" }));
        cboLang.setCursor(new java.awt.Cursor(java.awt.Cursor.DEFAULT_CURSOR));
        cboLang.setName("cboLang"); // NOI18N
        cboLang.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                cboLangItemStateChanged(evt);
            }
        });

        db_btnconfirm.setFont(new java.awt.Font("Norasi", 0, 14));
        db_btnconfirm.setText("ตกลง");
        db_btnconfirm.setName("db_btnconfirm"); // NOI18N
        db_btnconfirm.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                db_btnconfirmActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(cboLang, javax.swing.GroupLayout.PREFERRED_SIZE, 235, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(db_btnconfirm, javax.swing.GroupLayout.PREFERRED_SIZE, 118, javax.swing.GroupLayout.PREFERRED_SIZE))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(25, 25, 25)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(cboLang, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(db_btnconfirm, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(26, Short.MAX_VALUE))
        );

        jMenuBar1.setPreferredSize(new java.awt.Dimension(51, 34));

        menuFunc.setText("ฟังก์ชั่น");
        menuFunc.setFont(new java.awt.Font("Norasi", 1, 14));
        menuFunc.setName("menuFunc"); // NOI18N

        menuDefault.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_1, java.awt.event.InputEvent.CTRL_MASK));
        menuDefault.setFont(new java.awt.Font("Norasi", 0, 14));
        menuDefault.setText("Default");
        menuDefault.setName("menuDefault"); // NOI18N
        menuDefault.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                menuDefaultActionPerformed(evt);
            }
        });
        menuFunc.add(menuDefault);

        menuThai.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_2, java.awt.event.InputEvent.CTRL_MASK));
        menuThai.setFont(new java.awt.Font("Norasi", 0, 14));
        menuThai.setText("Thai");
        menuThai.setName("menuThai"); // NOI18N
        menuThai.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                menuThaiActionPerformed(evt);
            }
        });
        menuFunc.add(menuThai);

        menuEng.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_3, java.awt.event.InputEvent.CTRL_MASK));
        menuEng.setFont(new java.awt.Font("Norasi", 0, 14));
        menuEng.setText("English");
        menuEng.setName("menuEng"); // NOI18N
        menuEng.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                menuEngActionPerformed(evt);
            }
        });
        menuFunc.add(menuEng);

        menuLocal.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_4, java.awt.event.InputEvent.CTRL_MASK));
        menuLocal.setFont(new java.awt.Font("Norasi", 0, 14));
        menuLocal.setText("Local");
        menuLocal.setName("menuLocal"); // NOI18N
        menuLocal.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                menuLocalActionPerformed(evt);
            }
        });
        menuFunc.add(menuLocal);

        jSeparator1.setName("jSpeparator1"); // NOI18N
        menuFunc.add(jSeparator1);

        menuExit.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_ESCAPE, 0));
        menuExit.setFont(new java.awt.Font("Norasi", 0, 14));
        menuExit.setText("Exit");
        menuExit.setName("menuExit"); // NOI18N
        menuExit.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                menuExitActionPerformed(evt);
            }
        });
        menuFunc.add(menuExit);

        jMenuBar1.add(menuFunc);

        setJMenuBar(jMenuBar1);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 6, Short.MAX_VALUE))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        java.awt.Dimension screenSize = java.awt.Toolkit.getDefaultToolkit().getScreenSize();
        setBounds((screenSize.width-391)/2, (screenSize.height-143)/2, 391, 143);
    }// </editor-fold>//GEN-END:initComponents

    private void menuDefaultActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_menuDefaultActionPerformed
        cboLang.setSelectedIndex(0);
        // TODO add your handling code here:
    }//GEN-LAST:event_menuDefaultActionPerformed

    private void menuThaiActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_menuThaiActionPerformed
        cboLang.setSelectedIndex(1);
        // TODO add your handling code here:
    }//GEN-LAST:event_menuThaiActionPerformed

    private void menuEngActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_menuEngActionPerformed
        cboLang.setSelectedIndex(2);
        // TODO add your handling code here:
    }//GEN-LAST:event_menuEngActionPerformed

    private void menuExitActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_menuExitActionPerformed
        this.dispose();
        // TODO add your handling code here:
    }//GEN-LAST:event_menuExitActionPerformed

    private void menuLocalActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_menuLocalActionPerformed
        cboLang.setSelectedIndex(3);
        // TODO add your handling code here:
    }//GEN-LAST:event_menuLocalActionPerformed

    private void db_btnconfirmActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_db_btnconfirmActionPerformed
        lang.setChklang(i);
        lang.setText(frmName, this, lang.getChklang());
        lang.setText(ParentName, Parent, lang.getChklang());
        select();
        // TODO add your handling code here:
    }//GEN-LAST:event_db_btnconfirmActionPerformed

    private void cboLangItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_cboLangItemStateChanged
        if (cboLang.getSelectedIndex() == 0) {
            i = 3;
        } else if (cboLang.getSelectedIndex() == 1) {
            i = 4;
        } else if (cboLang.getSelectedIndex() == 2) {
            i = 5;
        } else if (cboLang.getSelectedIndex() == 3) {
            i = 6;
        }
        // TODO add your handling code here:
    }//GEN-LAST:event_cboLangItemStateChanged
    int i = 3;

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /*
         * Set the Nimbus look and feel
         */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /*
         * If Nimbus (introduced in Java SE 6) is not available, stay with the
         * default look and feel. For details see
         * http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(ConfigLanguage.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(ConfigLanguage.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(ConfigLanguage.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(ConfigLanguage.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /*
         * Create and display the form
         */
        java.awt.EventQueue.invokeLater(new Runnable() {

            public void run() {

                ConfigLanguage dialog = new ConfigLanguage(new javax.swing.JFrame(), true, frmName);
                dialog.addWindowListener(new java.awt.event.WindowAdapter() {

                    @Override
                    public void windowClosing(java.awt.event.WindowEvent e) {
                        System.exit(0);
                    }
                });
                dialog.setVisible(true);
            }
        });
    }
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JComboBox cboLang;
    private javax.swing.JButton db_btnconfirm;
    private javax.swing.JMenuBar jMenuBar1;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPopupMenu.Separator jSeparator1;
    private javax.swing.JMenuItem menuDefault;
    private javax.swing.JMenuItem menuEng;
    private javax.swing.JMenuItem menuExit;
    private javax.swing.JMenu menuFunc;
    private javax.swing.JMenuItem menuLocal;
    private javax.swing.JMenuItem menuThai;
    // End of variables declaration//GEN-END:variables

//    public void restartApplication() {
//        final String javaBin = System.getProperty("java.home") + File.separator + "bin" + File.separator + "java";
//        final File currentJar = new File(UpdateReportElements.class.getProtectionDomain().getCodeSource().getLocation().toURI());
//
//        /* is it a jar file? */
//        if (!currentJar.getName().endsWith(".jar")) {
//            return;
//        }
//
//        /* Build command: java -jar application.jar */
//        final ArrayList<String> command = new ArrayList<String>();
//        command.add(javaBin);
//        command.add("-jar");
//        command.add(currentJar.getPath());
//
//        final ProcessBuilder builder = new ProcessBuilder(command);
//        builder.start();
//        System.exit(0);
//    }
    
    public void select(){
        int index = lang.getChklang();
        if(index == 3)
        {
            cboLang.setSelectedIndex(0);
        }
        else if(index ==4)
        {
            cboLang.setSelectedIndex(1);
        }
          else if(index ==5)
        {
            cboLang.setSelectedIndex(2);
        }
          else if(index ==6)
        {
            cboLang.setSelectedIndex(3);
        }
    }
}
